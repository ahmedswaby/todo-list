(this["webpackJsonptodo-list"]=this["webpackJsonptodo-list"]||[]).push([[0],{16:function(e,t,n){},19:function(e,t,n){},20:function(e,t,n){"use strict";n.r(t);var c=n(1),a=n.n(c),r=n(10),s=n.n(r),i=(n(16),n(3)),l=n.n(i),o=n(5),u=n(2),d=n(4),m=n(0);function j(e){var t=e.label,n=e.selected,c=e.select,a=e.unSelect,r=e.disabled;return Object(m.jsxs)("label",{className:"checkbox-field",children:[Object(m.jsx)("input",{type:"checkbox",checked:n,onChange:function(){n?a():c()},disabled:r}),Object(m.jsx)("span",{className:r?"checkmark disabled":"checkmark"}),t&&Object(m.jsx)("span",{className:"label-text",children:t})]})}j.defaultProps={label:null,selected:!1,disabled:!1};var b=j,f=n(6),p=n.n(f);var O=function(e){var t=e.add,n=e.cancel,a=Object(c.useState)(""),r=Object(u.a)(a,2),s=r[0],i=r[1],l=Object(c.useState)(p()(new Date,"yyyy-mm-dd")),o=Object(u.a)(l,2),d=o[0],j=o[1];return Object(m.jsxs)("div",{className:"add-item-form",children:[Object(m.jsxs)("div",{className:"form-group",children:[Object(m.jsx)("label",{htmlFor:"addItemInput",children:"Item description"}),Object(m.jsx)("input",{type:"text",placeholder:"Enter description...",className:"form-control",id:"addItemInput",value:s,onChange:function(e){return i(e.target.value)}})]}),Object(m.jsxs)("div",{className:"form-group",children:[Object(m.jsx)("label",{htmlFor:"addItemDueInput",children:"Due date"}),Object(m.jsx)("input",{type:"date",className:"form-control",id:"addItemDueInput",onChange:function(e){return j(e.target.value)},value:d})]}),Object(m.jsx)("button",{className:"btn btn-success",disabled:""===s,onClick:function(){var e=new Date(d);t({name:s,timestampDue:e.getTime(),complete:!1,id:0})},children:"Add item"}),Object(m.jsx)("button",{className:"btn btn-secondary",style:{marginLeft:"20px"},onClick:n,children:"Cancel"})]})},v=n(11),x="TODO_LIST",h=1e3;function g(){var e=localStorage.getItem(x);return e?JSON.parse(e):[]}var y={get:function(){return new Promise((function(e){setTimeout((function(){return e(g())}),h)}))},complete:function(e){return new Promise((function(t){var n=g().map((function(t){return t.id===e?Object(d.a)(Object(d.a)({},t),{},{complete:!0}):t}));localStorage.setItem(x,JSON.stringify(n)),setTimeout((function(){return t(n)}),h)}))},inComplete:function(e){return console.log(e),new Promise((function(t){var n=g();n.map((function(t){return t.id===e&&(t.complete=!1)})),localStorage.setItem(x,JSON.stringify(n)),setTimeout((function(){return t(n)}),h)}))},add:function(e){return new Promise((function(t){var n=g(),c=n.reduce((function(e,t){return t.id>=e?t.id+1:e}),1),a=[].concat(Object(v.a)(n),[Object(d.a)(Object(d.a)({},e),{},{id:c})]);localStorage.setItem(x,JSON.stringify(a)),setTimeout((function(){return t(a)}),h)}))}},N=Object(c.createContext)(),C=function(e){var t=e.children,n=Object(c.useState)([]),a=Object(u.a)(n,2),r=(a[0],a[1]),s=function(){var e=Object(o.a)(l.a.mark((function e(t){var n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log(t),e.next=3,y.complete(t);case 3:n=e.sent,r(n);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(m.jsx)(N.Provider,{value:{complete:s},children:t})},w=function(){return Object(c.useContext)(N)};var I=function(e){var t=e.filter,n=e.cancel,a=w();console.log(a);var r=p()(new Date,"yyyy-mm-dd"),s=Object(c.useState)(r),i=Object(u.a)(s,2),l=i[0],o=i[1],d=Object(c.useState)(r),j=Object(u.a)(d,2),b=j[0],f=j[1];return Object(m.jsxs)("div",{className:"add-item-form",children:[Object(m.jsxs)("div",{className:"form-group",children:[Object(m.jsx)("label",{htmlFor:"startDate",children:"Start Date"}),Object(m.jsx)("input",{type:"date",className:"form-control",id:"startDate",onChange:function(e){return o(e.target.value)},value:l})]}),Object(m.jsxs)("div",{className:"form-group",children:[Object(m.jsx)("label",{htmlFor:"endDate",children:"End Date"}),Object(m.jsx)("input",{type:"date",className:"form-control",id:"endDate",onChange:function(e){return f(e.target.value)},value:b})]}),Object(m.jsx)("button",{className:"btn btn-success",onClick:function(){var e=new Date(l).getTime(),c=new Date(b).getTime();t(e,c),n()},disabled:""===l&&""===b,children:"filter"}),Object(m.jsx)("button",{className:"btn btn-secondary",style:{marginLeft:"20px"},onClick:n,children:"Cancel"})]})};var D=function(e){var t=e.filter,n=e.addItem,a=e.setFilter,r=e.addfilterByDate,s=Object(c.useState)(!1),i=Object(u.a)(s,2),l=i[0],o=i[1],j=Object(c.useState)(!1),f=Object(u.a)(j,2),p=f[0],v=f[1];return Object(m.jsxs)("header",{children:[Object(m.jsxs)("nav",{className:"navbar navbar-light bg-light",children:[Object(m.jsx)("span",{className:"navbar-brand",children:"Todo list"}),Object(m.jsxs)("div",{style:{flexDirection:"inherit",display:"flex",alignItems:"center"},children:[!l&&Object(m.jsx)("button",{type:"button",className:"btn btn-link",onClick:function(){o(!0),v(!1)},children:"Add new item"}),!p&&Object(m.jsx)("button",{type:"button",className:"btn btn-link",onClick:function(){o(!1),v(!0)},children:"Filter By Date"}),Object(m.jsx)(b,{label:"today & overdue items only",selected:t.overdueOnly,select:function(){return a(Object(d.a)(Object(d.a)({},t),{},{overdueOnly:!0}))},unSelect:function(){return a(Object(d.a)(Object(d.a)({},t),{},{overdueOnly:!1}))}}),Object(m.jsx)(b,{label:"Include complete items",selected:t.includeComplete,select:function(){return a(Object(d.a)(Object(d.a)({},t),{},{includeComplete:!0}))},unSelect:function(){return a(Object(d.a)(Object(d.a)({},t),{},{includeComplete:!1}))}})]})]}),l&&Object(m.jsx)(O,{cancel:function(){return o(!1)},add:function(e){console.log(e),o(!1),n(e)}}),p&&Object(m.jsx)(I,{cancel:function(){return v(!1)},filter:function(e,t){r(e,t)}})]})},S=function(e){return!e.complete&&e.timestampDue<(new Date).getTime()};var k=function(e){var t=e.item,n=e.completeItem,c=e.inCompleteItem,a=w();console.log(a);var r="list-group-item list-group-item-".concat(S(t)?"danger":"info");return Object(m.jsx)("li",{className:r,children:Object(m.jsxs)("div",{className:"item",children:[Object(m.jsxs)("span",{className:"item-title".concat(t.complete?" complete-item":""),children:[Object(m.jsx)("i",{className:S(t)?"fas fa-exclamation-circle":""}),"".concat(t.name," - ").concat(p()(new Date(t.timestampDue),"dd-mmm-yyyy"))]}),Object(m.jsx)(b,{label:"Complete item",selected:t.complete,select:n,unSelect:c})]})})};var T=function(e){var t=e.items,n=e.completeItem,c=e.inCompleteItem;return 0===t.length?Object(m.jsx)("div",{className:"alert alert-success",role:"alert",children:"Congratulations your todo list is empty!"}):Object(m.jsx)("ul",{className:"list-group",children:t.map((function(e){return Object(m.jsx)(k,{item:e,completeItem:function(){return n(e.id)},inCompleteItem:function(){return c(e.id)}},e.id)}))})},F=(n(19),{overdueOnly:!0,includeComplete:!1});var J=function(){var e=a.a.useState([]),t=Object(u.a)(e,2),n=t[0],r=t[1],s=a.a.useState(F),i=Object(u.a)(s,2),d=i[0],j=i[1],b=a.a.useState(!0),f=Object(u.a)(b,2),p=f[0],O=f[1],v=function(){var e=Object(o.a)(l.a.mark((function e(){var t;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return O(!0),e.next=3,y.get();case 3:t=e.sent,r(t),O(!1);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();Object(c.useEffect)((function(){v()}),[]);var x=function(){var e=Object(o.a)(l.a.mark((function e(t){var n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y.complete(t);case 2:n=e.sent,r(n);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),h=function(){var e=Object(o.a)(l.a.mark((function e(t){var n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y.inComplete(t);case 2:n=e.sent,r(n);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),g=function(){var e=Object(o.a)(l.a.mark((function e(t){var n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y.add(t);case 2:n=e.sent,r(n);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),N=function(){var e=Object(o.a)(l.a.mark((function e(t,n){var c,a;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return O(!0),e.next=3,y.get();case 3:c=e.sent,r(c),(a=c.filter((function(e){return t<=e.timestampDue&&n>=e.timestampDue}))).length>0?r(a):r(c),O(!1);case 8:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),w=n.filter((function(e){return(d.includeComplete||!e.complete)&&(!d.overdueOnly||S(e))}));return Object(m.jsx)(C,{children:Object(m.jsxs)("div",{className:"fluid-container app-container",children:[Object(m.jsx)(D,{addItem:g,filter:d,setFilter:j,addfilterByDate:N}),!p&&Object(m.jsx)("div",{className:"list",children:Object(m.jsx)(T,{items:w,completeItem:x,inCompleteItem:h})}),p&&Object(m.jsx)("div",{className:"alert alert-info",role:"alert",children:"Loading please wait..."})]})})};s.a.render(Object(m.jsx)(J,{}),document.getElementById("root"))}},[[20,1,2]]]);
//# sourceMappingURL=main.e938a281.chunk.js.map